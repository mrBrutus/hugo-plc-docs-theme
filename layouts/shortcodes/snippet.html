{{ $file := .Get 0 }}
{{ $path := .Site.GetPage "snippets" }}
{{ $snippets := $path.Resources.Match $file }}
{{ $str := "" }}

{{ range $snippets }}
  {{ $ext := path.Ext .Name | strings.TrimLeft "." }}
  {{ if eq $ext "md" }}
    {{ $str = printf "%s%s" $str .RawContent }}
  {{ else }} 
    {{ $str = printf "%s```%s\n" $str $ext }}
    {{ $str = printf "%s%s\n" $str .Content }}
    {{ $str = printf "%s```\n" $str }}
  {{ end }} 
{{ end }}

{{ $str | chomp | markdownify }}